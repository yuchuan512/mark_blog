title: 微服务
date: 2016-09-28 10:04:07
categories:
tags:
---
微服务是将一个应用拆分成多个独立的服务，每个服务都具有业务属性，并且能独立的被开发、测试、构建、部署。

### 日志聚合
Splunk和LogStash
Splunk 日志聚合 搜索 语义提取 对结果进行分组、联合、拆分、格式化 可视化功能  邮件提醒功能  告警功能
Splunk既可以单机部署，也可以分布式部署。在微服务架构中，由于不同的服务部署在不同的主机上，而我们希望对日志进行集中管理，因此通常使用的是分布式部署，分布式部署时，每个部署有服务应用的主机都会安装一个日志转发器（Splunk Forwarder）,当前节点的日志通过转发器被转发到Splunk的重要服务器上，负责接收日志的这台Splunk服务器也被称作接收器
通过配置Splunk配置文件 inputs.conf 配置重要日志目录进行监控管理

LogStash  日志收集  过滤 结果输出


### 监控与告警
监控产品 Zabbix  NewRelic  Nagios  OneAPM  大部分都使用Nagios,运行在linux上的开源监控系统

### 微服务与持续交付
 * 什么是持续交付
持续交付是软件系统的构建、部署、测试、审核、发布过程的一种自动化实现
 * 持续交付的核心
核心是部署流水线，因为部署流水线能将这几个环节有效的连接起来
  * 小批量价值流动
  * 频繁可发布
  * 快速反馈

### 微服务与轻量级通信机制
REST(Representational State Transfer,表述性状态转移)是使用较广泛的分布式节点间同步通信的实现方式。REST从语义层面将响应结果定义为资源，并使用HTTP的标准动词映射为对资源的操作，形成一种以资源为核心，以HTTP为操作方式的，跨语言跨平台的服务间的通信机制。

访问方式
 * 拉模式要求消费者定期检查队列上的消息
 * 推模式是每当发布者将消息添加到队列中时，会通过某种机制通知消费者。





